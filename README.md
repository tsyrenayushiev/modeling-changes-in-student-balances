## Проект: Моделирование изменения балансов студентов

<p>Что нужно было сделать:<p>
<ol>
  <li> Смоделировать изменение балансов студентов, где баланс — это количество уроков, которое есть у каждого студента </li>
  <li> Создать таблицу, где будут балансы каждого студента за каждый календарный день</li>
  <li> Составить запрос, который собирает данные о балансах студентов за каждый прожитый ими день</li>
</ol>

<p>Как решал: Задание решалось в три этапа. Сначала, с помощью sql запросов, были собраны три таблицы (дата первой успешной транзакции для каждого студента, все дни 2016 года, таблица со списком успешных транзакций).
После этого создал CTE, в котором хранились все запросы. Такие как все даты жизни студента после того, как произошла его первая транзакция; количество пройденных уроков за каждый день для каждого ученика; 
 баланс студентов, который сформирован только транзакциями(здесь я использовал оконные функции для подсчета кумулятивной суммы кол-ва уроков на балансе); таблица хранения кумулятивной суммы количества пройденных уроков;
 таблица с вычисленными балансами каждого студента(объединил два прошлых запроса с подсчетом суммы). В итоге получил таблицу, где отслеживается баланс каждого студента за каждый день. Также еще построил визуализацию.<p>

<p> > <a href="https://metabase.sky.pro/question/60623">Ссылка на sql запрос вместе с визуализацией</a> <p>
<p> > <a href="https://docs.google.com/spreadsheets/d/1LI1d9NejRsG6MH2mO76sru2Kv50czIi5/edit?usp=sharing&ouid=103132688936172986249&rtpof=true&sd=true">Excel таблица с данными по балансу учеников</a> <p>
 
 <p>Выводы:<p>
<ol>
  <li>Количество купленных уроков возрастает с середины года и увеличивается к концу года</li>
  <li>Количество списанных с баланса уроков стабильно в течение года и возрастает к концу года</li>
  <li>Количество пройденных и неоплаченных уроков постоянно увеличивается и к концу года достигает 6000 уроков (что при средней цене в 800 рублей за 1 урок, получается более 4800000 рублей)</li>
  <li>Сумма за пройденные уроки снижается, потому что она списывается с баланса учеников, сумма за пополнения с транзакций растет, количество средств, которые мы можем потратить на уроки увеличивается</li>
  <li>Разница между суммой за уроки и суммой с транзакций равномерно увеличивается в пользу суммы с транзакций</li>
  <li>В результате анализа полученных данных мы можем сказать, что компания развивается, т.к. количество учеников, транзакций, купленных уроков, пройденных уроков постепенно растет, в результате чего увеличивается прибыль</li>
</ol>
